<ng-container *ngIf="(currentlySelected$ | async) as currentlySelected">
  <h2 mat-dialog-title>Select a Shipping Method:</h2>
  <div mat-dialog-content>
    <div
      class="shipping-item"
      *ngFor="let shipping of (shippingOptions$ | async)"
      [class.selected]="currentlySelected === shipping.type"
      (click)="optionSelected(shipping.type)"
    >
      <span>{{ shipping.type }}</span>
      <span>{{ shipping.price | currency }}</span>
    </div>
  </div>
  <div mat-dialog-actions>
    <button mat-button (click)="cancel()">
      Cancel
    </button>
    <button
      mat-button
      color="primary"
      (click)="select(currentlySelected)"
      cdkFocusInitial
      [disabled]="selectDisabled$ | async"
    >
      Select
    </button>
  </div>
</ng-container>
